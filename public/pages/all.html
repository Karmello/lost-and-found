<div id="lost-and-found-app-about">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ ui.frames.main.getActiveSwitcher().label }}</span>
		</heading-text>
	</my-panel>
</div>
<div id="lost-and-found-app-contact">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ ui.frames.main.getActiveSwitcher().label }}</span>
		</heading-text>
		<body-section>
			<contact-form></contact-form>
		</body-section>
	</my-panel>
</div>
<div id="lost-and-found-app-help">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ ui.frames.main.getActiveSwitcher().label }}</span>
		</heading-text>
	</my-panel>
</div>
<div id="lost-and-found-app-home" class="myPage">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ ui.frames.main.getActiveSwitcher().label }}</span>
		</heading-text>
		<body-section>
			<br>
			<app-stats></app-stats>
			<br>
			<my-panel transparent-heading="true">
				<heading-text>
					<span ng-class="ui.frames.main.getSwitcher('_id', 'newreport').icon"></span>
					<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[22] }}</span>
				</heading-text>
				<body-section>
					<reports ctrl-id="newlyAdded"></reports>
				</body-section>
			</my-panel>
			<my-panel transparent-heading="true">
				<heading-text>
					<span class="glyphicon glyphicon-eye-open"></span>
					<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[21] }}</span>
				</heading-text>
				<body-section>
					<reports ctrl-id="lastViewed"></reports>
				</body-section>
			</my-panel>
		</body-section>
	</my-panel>
</div>
<div id="lost-and-found-app-main" ng-controller="MainController">

	<!-- File inputs -->
	<my-single-file-input></my-single-file-input>
	<my-multiple-files-input></my-multiple-files-input>



	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
					<span class="sr-only"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<div class="navbar-brand" ng-bind="hardData.app.name"></div>
			</div>
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<my-nav-menu ins="ui.menus.top"></my-nav-menu>
				<div class="navbar-right">
					<my-nav-drop-down ins="ui.dropdowns.mainFrameNav"></my-nav-drop-down>
				</div>
			</div>
		</div>
	</nav>

	<div class="container-fluid">
		<div id="underNavbarPanel" class="well">
			<div>
				<user-avatar user="apiData.loggedInUser"></user-avatar>
			</div>
			<div ng-if="!apiData.loggedInUser.paymentId">
				<a ui-sref="app.upgrade({ id: apiData.loggedInUser._id })">
					<span ng-bind="hardData.imperatives[35]" class="text-warning" style="font-weight: bold;"></span>
				</a>
			</div>
		</div>
		<div>
			<ng-include
				ng-repeat="page in ui.frames.main.switchers"
				src="page.templateName ? 'public/pages/lost-and-found-app-' + page.templateName + '.html' : 'public/pages/lost-and-found-app-' + page._id + '.html'"
				ng-show="page._id == ui.frames.main.activeSwitcherId"
			></ng-include>
		</div>
	</div>
</div>
<div id="lost-and-found-app-newreport">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[20] }}</span>
		</heading-text>
		<body-section>
			<report-form action="addReport"></report-form>
		</body-section>
	</my-panel>
</div>
<div id="lost-and-found-app-profile" ng-controller="ProfileController">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span class="text-info">&nbsp;&nbsp;&nbsp;{{ apiData.profileUser.username }}</span>
		</heading-text>
		<body-section>
			<div id="userSection">
				<div>
					<user-avatar
						user="apiData.profileUser"
						editable="true"
						no-link="true"
					></user-avatar>
				</div>
				<div>
					<table class="table">
						<tr>
							<td>
								<span class="text-info">{{ hardData.labels[23] }}</span> -
								<span ng-bind="apiData.profileUser.firstname"></span>
								<span ng-bind="apiData.profileUser.lastname"></span>
							</td>
						</tr>
						<tr>
							<td>
								<span class="text-info">{{ hardData.labels[8] }}</span> -
								<span ng-bind="apiData.profileUser.country"></span>
							</td>
						</tr>
						<tr>
							<td>
								<span class="text-info">{{ hardData.labels[0] }}</span> -
								<span ng-bind="apiData.profileUser.email"></span>
							</td>
						</tr>
						<tr ng-if="apiData.loggedInUser._isTheOneLoggedIn()">
							<td>
								<span class="text-info">{{ hardData.sections[8] }}</span> -
								<a ui-sref="app.upgrade({ id: apiData.loggedInUser._id })">
									<span
										class="text-warning"
										style="font-weight: bold;"
										ng-bind="hardData.accountTypes[apiData.profileUser.paymentId ? 'full' : 'basic']"
									></span>
								</a>
							</td>
						</tr>
						<tr>
							<td>
								<span class="text-info">{{ hardData.count[1] }}</span>
								<span ng-bind="userSince"></span>
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div style="height: 50px;"></div>
			<my-panel context-menu-conf="apiData.profileUser._isTheOneLoggedIn() ? profileReportsContextMenuConf : undefined">
				<heading-text>
					<span class="glyphicon glyphicon-list"></span>
					<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[11] }} ({{ collectionBrowser.meta.count }})</span>
				</heading-text>
				<body-section>
					<reports ctrl-id="byUser"></reports>
				</body-section>
			</my-panel>
		</body-section>
	</my-panel>
</div>
<div id="lost-and-found-app-report-tabs">
	<div id="photosSection" ng-show="ui.tabs.report.activeSwitcherId == 'photos'">
		<my-panel>
			<heading-text>
				<span class="glyphicon glyphicon-picture"></span>
				<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[5] }} ({{ apiData.report.photos.length }})</span>
			</heading-text>
			<body-section>
				<report-photos report="apiData.report" editable="apiData.reportUser._isTheOneLoggedIn()"></report-photos>
			</body-section>
		</my-panel>
	</div>
	<div id="commentsSection" ng-show="ui.tabs.report.activeSwitcherId == 'comments'">
		<my-panel>
			<heading-text>
				<span class="glyphicon glyphicon-comment"></span>
				<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[6] }} ({{ commentsOutData.topCollectionBrowser.meta.count }})</span>
			</heading-text>
			<body-section>
				<my-comments nesting-level="0" api-obj="apiData.report" out="commentsOutData"></my-comments>
			</body-section>
		</my-panel>
	</div>
</div>
<div id="lost-and-found-app-report" ng-controller="ReportController">
	<div ng-show="params.edit !== '1'">
		<my-panel context-menu-conf="contextMenuConf" data="apiData.report">
			<heading-text>
				<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>&nbsp;&nbsp;&nbsp;
				<span ng-bind="apiData.report.title" class="text-info"></span>
			</heading-text>
			<body-section>
				<div id="endEventSection" ng-if="!apiData.report._isOwn()">
					<div class="myBtnsGroupRight">
						<my-btn
							ng-if="apiData.report.startEvent.type == 'lost'"
							btn-class="[['btn-primary']]"
							hard-data="{ label_0_0: ['declaratives', 0] }"
							on-click="showRespondToReportForm()"
						></my-btn>
						<my-btn
							ng-if="apiData.report.startEvent.type == 'found'"
							btn-class="[['btn-primary']]"
							hard-data="{ label_0_0: ['declaratives', 1] }"
							on-click="showRespondToReportForm()"
						></my-btn>
					</div>
					<report-form ng-show="isRespondToReportFormVisible" action="respondToReport"></report-form>
				</div>
			</body-section>
		</my-panel>
		<my-panel transparent-heading="true">
			<heading-text>
				<span ng-bind="hardData.sections[16]"></span>
			</heading-text>
			<body-section>
				<div id="subjectSection">
					<div>
						<div>
							<div>
								<span class="text-info">{{ hardData.labels[18] }}</span> -
								<span ng-bind="apiData.report._id"></span>
							</div>
							<div>
								<span class="text-info">{{ hardData.count[7] }}</span>
								<span>{{ $moment.duration($moment(Date()).diff($moment(apiData.report.dateAdded))).humanize() + ' ' + hardData.count[8] }}</span>
								<span style="white-space: nowrap;">({{ $moment(apiData.report.dateAdded).format('DD-MM-YYYY HH:mm') }})</span>
							</div>
							<div>
								<span class="text-info">{{ hardData.count[6] }}</span>
								<a ui-sref="app.profile({ id: apiData.reportUser._id })">
									<span ng-bind="apiData.reportUser.username" class="text-warning"></span>
								</a>
							</div>
						</div>
						<div>
							<report-avatar report="apiData.report" no-link="true"></report-avatar>
						</div>
					</div>
					<div>
						<div>
							<span class="text-info">{{ hardData.labels[12] }}</span> -
							<span ng-bind="apiData.report.getFullCategory()"></span>
						</div>
						<div style="text-align: justify;">
							<span class="text-info">{{ hardData.labels[10] }}</span><br>
							<span ng-bind="apiData.report.description"></span>
						</div>
						<div>
							<span class="text-info">{{ hardData.labels[20] }}</span> -
							<span ng-bind="apiData.report.serialNo"></span>
						</div>
					</div>
				</div>
			</body-section>
		</my-panel>
		<my-panel transparent-heading="true">
			<heading-text>
				<span>{{ hardData.reportTypes[apiData.report.startEvent.type == 'lost' ? 0 : 1].label2 }} {{ hardData.count[0] }}</span>
				<span>{{ $moment(apiData.report.startEvent.date).format('DD-MM-YYYY') }}</span>
			</heading-text>
			<body-section>
				<div id="startEventSection">
					<div>
						<div style="text-align: justify;">
							<span class="text-info">{{ hardData.labels[19] }}</span><br>
							<span ng-bind="apiData.report.startEvent.details"></span>
						</div>
					</div>
					<div id="mapContainer">
						<div>
							<span class="text-info">{{ hardData.labels[17] }}</span>
							<div id="reportMap" class="myGoogleMap"></div>
						</div>
					</div>
				</div>
			</body-section>
		</my-panel>
		<div id="tabsSection">
			<my-tabs ins="ui.tabs.report"></my-tabs>
			<ng-include src="'public/pages/lost-and-found-app-report-tabs.html'"></ng-include>
		</div>
	</div>
	<div ng-show="params.edit === '1'">
		<my-panel>
			<heading-text>
				<span class="glyphicon glyphicon-edit"></span>
				<span>&nbsp;&nbsp;&nbsp;{{ hardData.labels[27] }}</span>
				<span class="text-info">{{ apiData.report._id }}</span>
			</heading-text>
			<body-section>
				<report-form action="editReport"></report-form>
			</body-section>
		</my-panel>
	</div>
</div>
<div id="lost-and-found-app-search" ng-controller="SearchController">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ ui.frames.main.getActiveSwitcher().label }}</span>
		</heading-text>
		<body-section>
			<report-search-form></report-search-form>
		</body-section>
	</my-panel>
	<div style="height: 50px;"></div>
	<my-panel transparent-heading="true">
		<heading-text>
			<span class="glyphicon glyphicon-list"></span>
			<span ng-if="collectionBrowser.meta.count == 0">&nbsp;&nbsp;&nbsp;{{ hardData.sections[13] }} (0)</span>
			<span ng-if="collectionBrowser.meta.count > 0">
				<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[13] }} ({{ hardData.count[11] }}:</span>
				<span class="text-info">{{ collectionBrowser.meta.count }}</span>,
				<span>{{ hardData.count[10] }}:</span>
				<span class="text-info">{{ collectionBrowser.collection.length }}</span>)
			</span>
		</heading-text>
		<body-section>
			<div id="mapSection">
				<div>
					<a class="text-info" ng-bind="hardData.imperatives[showMap ? 37 : 38]" ng-click="toggleMap()"></a>
				</div>
				<div id="reportsMap" class="myGoogleMap" ng-show="showMap"></div>
			</div>
			<reports ctrl-id="bySearchQuery"></reports>
		</body-section>
	</my-panel>
</div>
<div id="lost-and-found-app-settings" ng-controller="SettingsController">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ ui.frames.main.getActiveSwitcher().label }}</span>
		</heading-text>
		<body-section>
			<div id="dropdownSection" class="myBtnsGroupRight marginBottomSmall">
				<my-drop-down ins="ui.dropdowns.settingsCategories"></my-drop-down>
			</div>
			<div id="mainSection">
				<div>
					<my-list-group ins="ui.listGroups.settings"></my-list-group>
				</div>
				<div>
					<my-tabs ins="activeTabs"></my-tabs>
					<appearance-form ng-show="activeTabs.activeSwitcherId == 'appearance'"></appearance-form>
					<regional-form ng-show="activeTabs.activeSwitcherId == 'regional'"></regional-form>
					<personal-details-form ng-show="activeTabs.activeSwitcherId == 'personal-details'"></personal-details-form>
					<password-form ng-show="activeTabs.activeSwitcherId == 'password'"></password-form>
					<deactivation-form ng-show="activeTabs.activeSwitcherId == 'deactivate'"></deactivation-form>
				</div>
			</div>
		</body-section>
	</my-panel>
</div>
<div id="lost-and-found-app-start" class="container" ng-controller="StartController">
	<div id="section1">
		<div class="page-header jumbotron">
			<h2>{{ hardData.app.name }}<br /><small>{{ hardData.app.description }}</small></h2>
		</div>
	</div>
	<div id="section2">
		<div id="statsSection">
			<app-stats></app-stats>
		</div>
		<div id="formsSection">
			<my-tabs ins="ui.tabs.start"></my-tabs>
			<login-form ng-show="ui.tabs.start.activeSwitcherId == 'login'"></login-form>
			<register-form ng-show="ui.tabs.start.activeSwitcherId == 'register'"></register-form>
			<recover-form ng-show="ui.tabs.start.activeSwitcherId == 'recover'"></recover-form>
			<user-badge ng-show="ui.tabs.start.activeSwitcherId == 'status'"></user-badge>
		</div>
	</div>
	<div id="section3">
		<my-panel transparent-heading="true">
			<heading-text>
				<span ng-class="ui.frames.main.getSwitcher('_id', 'newreport').icon"></span>
				<span>&nbsp;&nbsp;&nbsp;{{ hardData.sections[22] }}</span>
			</heading-text>
			<body-section>
				<reports ctrl-id="newlyAdded"></reports>
			</body-section>
		</my-panel>
	</div>
</div>
<div id="lost-and-found-app-upgrade">
	<my-panel>
		<heading-text>
			<span ng-class="ui.frames.main.getActiveSwitcher().icon"></span>
			<span>&nbsp;&nbsp;&nbsp;{{ ui.frames.main.getActiveSwitcher().label }}</span>
		</heading-text>
		<body-section>
			<div ng-show="!apiData.loggedInUser.paymentId && !apiData.payment">
				<upgrade-form></upgrade-form>
			</div>
			<div ng-show="apiData.loggedInUser.paymentId" id="whenPaidSection">
				<my-loader abs-centered="true" ng-show="!apiData.payment"></my-loader>
				<div id="section1" ng-class="{ transparent: !apiData.payment }">
					<div>
						<my-panel transparent-heading="true">
							<heading-text>
								<span>&nbsp;&nbsp;&nbsp;{{ hardData.labels[37] }}</span>
							</heading-text>
							<body-section>
								<table class="table">
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[40] }}:</span>
											<span>{{ apiData.payment.id }}</span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[39] }}:</span>
											<span>{{ apiData.payment.create_time }}</span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[30] }}:</span>
											<span ng-bind="hardData.payment.methods[apiData.payment.payer.payment_method]"></span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[36] }}:</span>
											<span class="text-warning" style="font-weight: bold;">{{ apiData.payment.transactions[0].amount.total }} {{ apiData.payment.transactions[0].amount.currency }}</span>
										</td>
									</tr>
								</table>
							</body-section>
						</my-panel>
					</div>
					<div ng-if="apiData.payment.payer.payment_method == 'credit_card'">
						<my-panel transparent-heading="true">
							<heading-text>
								<span>&nbsp;&nbsp;&nbsp;{{ hardData.payment.methods[apiData.payment.payer.payment_method] }}</span>
							</heading-text>
							<body-section>
								<table class="table">
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[31] }}:</span>
											<span ng-bind="hardData.payment.creditCardTypes[apiData.payment.payer.funding_instruments[0].credit_card.type]"></span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[32] }}:</span>
											<span ng-bind="apiData.payment.payer.funding_instruments[0].credit_card.number"></span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[23] }}:</span>
											<span>{{ apiData.payment.payer.funding_instruments[0].credit_card.first_name }} {{ apiData.payment.payer.funding_instruments[0].credit_card.last_name }}</span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[41] }}:</span>
											<span>{{ apiData.payment.payer.funding_instruments[0].credit_card.expire_month }}/{{ apiData.payment.payer.funding_instruments[0].credit_card.expire_year }}</span>
										</td>
									</tr>
								</table>
							</body-section>
						</my-panel>
					</div>
					<div ng-if="apiData.payment.payer.payment_method == 'paypal'">
						<my-panel transparent-heading="true">
							<heading-text>
								<span>&nbsp;&nbsp;&nbsp;{{ hardData.payment.methods.paypal }}</span>
							</heading-text>
							<body-section>
								<table class="table">
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[42] }}:</span>
											<span>{{ apiData.payment.payer.payer_info.payer_id }}</span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[23] }}:</span>
											<span>{{ apiData.payment.payer.payer_info.first_name }} {{ apiData.payment.payer.payer_info.last_name }}</span>
										</td>
									</tr>
									<tr>
										<td>
											<span class="text-info">{{ hardData.labels[0] }}:</span>
											<span>{{ apiData.payment.payer.payer_info.email }}</span>
										</td>
									</tr>
								</table>
							</body-section>
						</my-panel>
					</div>
				</div>
				<div id="section2" ng-class="{ transparent: !apiData.payment }">
					<a href="https://www.paypal.com/" target="new">
						<img src="public/imgs/paypal.png">
					</a>
				</div>
			</div>
		</body-section>
	</my-panel>
</div>